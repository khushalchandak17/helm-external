defaultNamespace: kube-system

helm:
  repo: https://kubernetes.github.io/autoscaler
  chart: cluster-autoscaler
  version: "9.11"
  releaseName: cluster-autoscaler

targetCustomizations:
  # AWS us-east-1 prod
  - name: svcs01-prod
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-rc-svcs01
    helm:
      values:
        autoDiscovery:
          clusterName: svcs01-prod
        awsRegion: us-east-1
        extraArgs:
          skip-nodes-with-local-storage: false

  - name: preprod01-prod
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-sc-preprod01
    helm:
      values:
        autoDiscovery:
          clusterName: preprod01-prod
        awsRegion: us-east-1
        extraArgs:
          skip-nodes-with-local-storage: false

  - name: prod01-prod
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-sc-prod01
    helm:
      values:
        autoDiscovery:
          clusterName: prod01-prod
        awsRegion: us-east-1
        extraArgs:
          skip-nodes-with-local-storage: false

  # AWS us-east-1 qa
  - name: svcs01-qa
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-rc-svcs01qa
    helm:
      values:
        autoDiscovery:
          clusterName: svcs01-qa
        awsRegion: us-east-1
        extraArgs:
          skip-nodes-with-local-storage: false

  - name: qa01-qa
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-sc-qa01
    helm:
      values:
        autoDiscovery:
          clusterName: qa01-qa
        awsRegion: us-east-1
        extraArgs:
          skip-nodes-with-local-storage: false

  # AWS eu-west-1 prod (wargaming)
  - name: svcs01eu-prod
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euwe1-rc-svcs01eu
    helm:
      values:
        autoDiscovery:
          clusterName: svcs01eu-prod
        awsRegion: eu-west-1
        extraArgs:
          skip-nodes-with-local-storage: false

  - name: wargaming02-prod
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euwe1-sc-wargaming02
    helm:
      values:
        autoDiscovery:
          clusterName: wargaming02-prod
        awsRegion: eu-west-1
        extraArgs:
          skip-nodes-with-local-storage: false
          scale-down-delay-after-add: 3m
          scale-down-unneeded-time: 3m

  - name: wargaming03-prod
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euwe1-sc-wargaming03
    helm:
      values:
        autoDiscovery:
          clusterName: wargaming03-prod
        awsRegion: eu-west-1
        extraArgs:
          skip-nodes-with-local-storage: false
          scale-down-delay-after-add: 3m
          scale-down-unneeded-time: 3m
