defaultNamespace: cattle-gatekeeper-system

helm:
  repo: https://charts.rancher.io
  chart: rancher-gatekeeper
  version: 100.0.1+up3.6.0
  releaseName: rancher-gatekeeper
  values:
    disableValidatingWebhook: false
    enableDeleteOperations: true
    logDenies: true
    constraintViolationsLimit: 500

dependsOn:
  - name: rancher-gatekeeper-crd

targetCustomizations:
  # On-Prem QA
  - name: qa01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-sc-qa01
    helm:
      values:
        disableValidatingWebhook: true

  - name: qa02
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-sc-qa02
    helm:
      values:
        disableValidatingWebhook: true

  - name: svcs01qa
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-xcr-svcs01qa
    helm:
      values:
        disableValidatingWebhook: true

  # On-Prem Prod
  - name: sc-prod01
  - name: rc-svc01
  - name: mom-sandbox01
  - name: calibre-prod02
  - name: intuitive-prod03

  # AWS us-east-1 QA
  - name: sc-qa01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-sc-qa01
    helm:
      values:
        disableValidatingWebhook: true
  - name: svcs01qa
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-rc-svcs01qa
    helm:
      values:
        disableValidatingWebhook: true

  # AWS us-east-1 Prod
  - name: sc-preprod01
  - name: rc-svcs01
  - name: sc-prod01

  # AWS eu-west-1 Prod
  - name: rc-svcs01eu

  # AWS eu-west-1 Wargaming
  - name: wargaming02-prod
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euwe1-sc-wargaming02
    helm:
      values:
        disableValidatingWebhook: true

  - name: wargaming03-prod
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euwe1-sc-wargaming03
    helm:
      values:
        disableValidatingWebhook: false

  # On-Prem Wargaming
  - name: wargaming02-qa
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-rc-wargame02
    helm:
      values:
        disableValidatingWebhook: true

  - name: wargaming03-qa
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-rc-wargame03
    helm:
      values:
        disableValidatingWebhook: true
