defaultNamespace: velero

kustomize:
  dir: ./kustomize

helm:
  repo: https://vmware-tanzu.github.io/helm-charts
  chart: velero
  version: "2.27.3"
  releaseName: velero
  valuesFiles:
    - values.yaml

diff:
  comparePatches:
  - apiVersion: apps/v1
    kind: Deployment
    name: velero
    namespace: velero
    operations:
    - {"op": "remove", "path": "/spec/template/spec/containers"}

targetCustomizations:
  # AWS us-east-1 - QA
  - name: rancherqa-control-us-east-1
    clusterSelector:
      matchLabels:
        cluster-name: rancherqa-control-us-east-1
    helm:
      valuesFiles:
        - rancherqa-control-us-east-1.yaml

  - name: aws-usea1-rc-svcs01qa
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-rc-svcs01qa
    helm:
      valuesFiles:
        - aws-usea1-rc-svcs01qa.yaml

  - name: aws-usea1-sc-qa01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-sc-qa01
    helm:
      valuesFiles:
        - aws-usea1-sc-qa01.yaml

  # AWS us-east-1 - Prod
  - name: rancherprod-control-us-east-1
    clusterSelector:
      matchLabels:
        cluster-name: rancherprod-control-us-east-1
    helm:
      valuesFiles:
        - rancherprod-control-us-east-1.yaml

  - name: aws-usea1-rc-svcs01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-rc-svcs01
    helm:
      valuesFiles:
        - aws-usea1-rc-svcs01.yaml

  - name: aws-usea1-sc-preprod01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-sc-preprod01
    helm:
      valuesFiles:
        - aws-usea1-sc-preprod01.yaml

  - name: aws-usea1-tcx-preprod02
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-tcx-preprod02
    helm:
      valuesFiles:
        - aws-usea1-tcx-preprod02.yaml

  - name: aws-usea1-sc-prod01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-sc-prod01
    helm:
      valuesFiles:
        - aws-usea1-sc-prod01.yaml

  # AWS eu-central-1 - Prod
  - name: ranchereuprod-control-eu-central-1
    clusterSelector:
      matchLabels:
        cluster-name: ranchereuprod-control-eu-central-1
    helm:
      valuesFiles:
        - ranchereuprod-control-eu-central-1.yaml

  - name: aws-euce1-rc-svcs01eu
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euce1-rc-svcs01eu
    helm:
      valuesFiles:
        - aws-euce1-rc-svcs01eu.yaml

  - name: aws-euce1-rc-gblsvcs01eu
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euce1-rc-gblsvcs01eu
    helm:
      valuesFiles:
        - aws-euce1-rc-gblsvcs01eu.yaml

  - name: aws-euce1-sc-qa01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euce1-sc-qa01
    helm:
      valuesFiles:
        - aws-euce1-sc-qa01.yaml

  - name: aws-euce1-sc-preprod01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euce1-sc-preprod01
    helm:
      valuesFiles:
        - aws-euce1-sc-preprod01.yaml

  - name: aws-euce1-sc-prod01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euce1-sc-prod01
    helm:
      valuesFiles:
        - aws-euce1-sc-prod01.yaml

  # On-Prem wv - QA
  - name: rancherqa-op-orw
    clusterSelector:
      matchLabels:
        cluster-name: rancherqa-op-orw
    helm:
      valuesFiles:
        - rancherqa-op-orw.yaml

  - name: op-orw-xcr-svcs01qa
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-xcr-svcs01qa
    helm:
      valuesFiles:
        - op-orw-xcr-svcs01qa.yaml

  - name: op-orw-sc-qa01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-sc-qa01
    helm:
      valuesFiles:
        - op-orw-sc-qa01.yaml

  - name: op-orw-kaas-qa03
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-kaas-qa03
    helm:
      valuesFiles:
        - op-orw-kaas-qa03.yaml

  # On-Prem wv - Prod
  - name: rancherprod-op-orw
    clusterSelector:
      matchLabels:
        cluster-name: rancherprod-op-orw
    helm:
      valuesFiles:
        - rancherprod-op-orw.yaml

  - name: op-orw-rc-svcs01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-rc-svcs01
    helm:
      valuesFiles:
        - op-orw-rc-svcs01.yaml

  - name: op-orw-sc-prod01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-sc-prod01
    helm:
      valuesFiles:
        - op-orw-sc-prod01.yaml

  - name: op-orw-mom-prod04
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-mom-prod04
    helm:
      valuesFiles:
        - op-orw-mom-prod04.yaml

  - name: op-orw-mom-sandbox01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-mom-sandbox01
    helm:
      valuesFiles:
        - op-orw-mom-sandbox01.yaml

  - name: op-orw-calibre-prod02
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-calibre-prod02
    helm:
      valuesFiles:
        - op-orw-calibre-prod02.yaml

  - name: op-orw-intuitive-prod03
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-intuitive-prod03
    helm:
      valuesFiles:
        - op-orw-intuitive-prod03.yaml
