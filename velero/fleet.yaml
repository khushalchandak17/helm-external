defaultNamespace: velero

helm:
  repo: https://vmware-tanzu.github.io/helm-charts
  chart: velero
  version: "2.32.1"
  releaseName: velero
  valuesFiles:
    - values.yaml

diff:
  comparePatches:
    - apiVersion: apps/v1
      kind: Deployment
      name: velero
      namespace: velero
      operations:
        - { "op": "remove", "path": "/spec/template/spec/containers" }

targetCustomizations:
  # AWS us-east-1 - QA
  - name: rancherqa-control-us-east-1
    clusterSelector:
      matchLabels:
        cluster-name: rancherqa-control-us-east-1
    helm:
      valuesFiles:
        - rancherqa-control-us-east-1.yaml

  - name: aws-usea1-rc-svcs01qa
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-rc-svcs01qa
    helm:
      valuesFiles:
        - aws-usea1-rc-svcs01qa.yaml

  - name: aws-usea1-sc-qa01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-sc-qa01
    helm:
      valuesFiles:
        - aws-usea1-sc-qa01.yaml

  - name: aws-usea1-cf-qa04
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-cf-qa04
    helm:
      valuesFiles:
        - aws-usea1-cf-qa04.yaml

  # AWS us-east-1 - Prod
  - name: rancherprod-control-us-east-1
    clusterSelector:
      matchLabels:
        cluster-name: rancherprod-control-us-east-1
    helm:
      valuesFiles:
        - rancherprod-control-us-east-1.yaml

  - name: aws-usea1-rc-svcs01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-rc-svcs01
    helm:
      valuesFiles:
        - aws-usea1-rc-svcs01.yaml

  - name: aws-usea1-sc-preprod01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-sc-preprod01
    helm:
      valuesFiles:
        - aws-usea1-sc-preprod01.yaml

  - name: aws-usea1-sc-preprod03
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-sc-preprod03
    helm:
      valuesFiles:
        - aws-usea1-sc-preprod03.yaml

  - name: aws-usea1-tcx-preprod02
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-tcx-preprod02
    helm:
      valuesFiles:
        - aws-usea1-tcx-preprod02.yaml

  - name: aws-usea1-tcx-preprod04
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-tcx-preprod04
    helm:
      valuesFiles:
        - aws-usea1-tcx-preprod04.yaml

  - name: aws-usea1-tcx-preprod05
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-tcx-preprod05
    helm:
      valuesFiles:
        - aws-usea1-tcx-preprod05.yaml        

  - name: aws-usea1-sc-prod01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-sc-prod01
    helm:
      valuesFiles:
        - aws-usea1-sc-prod01.yaml

  # AWS eu-central-1 - Prod
  - name: ranchereuprod-control-eu-central-1
    clusterSelector:
      matchLabels:
        cluster-name: ranchereuprod-control-eu-central-1
    helm:
      valuesFiles:
        - ranchereuprod-control-eu-central-1.yaml

  - name: aws-euce1-rc-svcs01eu
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euce1-rc-svcs01eu
    helm:
      valuesFiles:
        - aws-euce1-rc-svcs01eu.yaml

  - name: aws-euce1-rc-gblsvcs01eu
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euce1-rc-gblsvcs01eu
    helm:
      valuesFiles:
        - aws-euce1-rc-gblsvcs01eu.yaml

  - name: aws-euce1-mom-preprod02
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euce1-mom-preprod02
    helm:
      valuesFiles:
        - aws-euce1-mom-preprod02.yaml

  - name: aws-euce1-mom-prod02
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euce1-mom-prod02
    helm:
      valuesFiles:
        - aws-euce1-mom-prod02.yaml

  - name: aws-euce1-sc-preprod01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euce1-sc-preprod01
    helm:
      valuesFiles:
        - aws-euce1-sc-preprod01.yaml

  - name: aws-euce1-sc-prod01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euce1-sc-prod01
    helm:
      valuesFiles:
        - aws-euce1-sc-prod01.yaml

  - name: aws-euce1-gblsvc-preprod03
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euce1-gblsvc-preprod03
    helm:
      valuesFiles:
        - aws-euce1-gblsvc-preprod03.yaml

  - name: aws-usea1-sc-train01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-usea1-sc-train01
    helm:
      valuesFiles:
        - aws-usea1-sc-train01.yaml

  # On-Prem wv - QA
  - name: rancherqa-op-orw
    clusterSelector:
      matchLabels:
        cluster-name: rancherqa-op-orw
    helm:
      valuesFiles:
        - rancherqa-op-orw.yaml

  - name: op-orw-xcr-svcs01qa
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-xcr-svcs01qa
    helm:
      valuesFiles:
        - op-orw-xcr-svcs01qa.yaml

  - name: op-orw-sc-qa01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-sc-qa01
    helm:
      valuesFiles:
        - op-orw-sc-qa01.yaml

  - name: op-orw-cf-qa04
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-cf-qa04
    helm:
      valuesFiles:
        - op-orw-cf-qa04.yaml

  - name: op-orw-kaas-qa03
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-kaas-qa03
    helm:
      valuesFiles:
        - op-orw-kaas-qa03.yaml

  # On-Prem wv - Prod
  - name: rancherprod-op-orw
    clusterSelector:
      matchLabels:
        cluster-name: rancherprod-op-orw
    helm:
      valuesFiles:
        - rancherprod-op-orw.yaml

  - name: op-orw-rc-svcs01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-rc-svcs01
    helm:
      valuesFiles:
        - op-orw-rc-svcs01.yaml

  - name: op-orw-sc-prod01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-sc-prod01
    helm:
      valuesFiles:
        - op-orw-sc-prod01.yaml

  - name: op-orw-mom-prod04
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-mom-prod04
    helm:
      valuesFiles:
        - op-orw-mom-prod04.yaml

  - name: op-orw-calibre-prod02
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-calibre-prod02
    helm:
      valuesFiles:
        - op-orw-calibre-prod02.yaml

  - name: op-orw-calibre-prod05
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-calibre-prod05
    helm:
      valuesFiles:
        - op-orw-calibre-prod05.yaml

  - name: op-orw-xcd-prod06
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-xcd-prod06
    helm:
      valuesFiles:
        - op-orw-xcd-prod06.yaml

  - name: op-orw-tc-dev01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-tc-dev01
    helm:
      valuesFiles:
        - op-orw-tc-dev01.yaml

  #######
  # OVP #
  #######
  # eu-west-1
  - name: ranchereuprod-control-eu-west-1
    clusterSelector:
      matchLabels:
        cluster-name: ranchereuprod-control-eu-west-1
    helm:
      valuesFiles:
        - ranchereuprod-control-eu-west-1.yaml
  - name: aws-euwe1-ovp-gblsvcs01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euwe1-ovp-gblsvcs01
    helm:
      valuesFiles:
        - aws-euwe1-ovp-gblsvcs01.yaml
  - name: aws-euwe1-ovp-svcs01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euwe1-ovp-svcs01
    helm:
      valuesFiles:
        - aws-euwe1-ovp-svcs01.yaml
  - name: aws-euce1-ovp-wargame02
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euwe1-ovp-wargame02
    helm:
      valuesFiles:
        - aws-euwe1-ovp-wargame02.yaml
  - name: aws-euce1-ovp-wargame04
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euwe1-ovp-wargame04
    helm:
      valuesFiles:
        - aws-euwe1-ovp-wargame04.yaml
  - name: aws-euce1-ovp-wargame06
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: aws-euwe1-ovp-wargame06
    helm:
      valuesFiles:
        - aws-euwe1-ovp-wargame06.yaml
  # On-Prem
  - name: rancherovp-op-orw
    clusterSelector:
      matchLabels:
        cluster-name: rancherovp-op-orw
    helm:
      valuesFiles:
        - rancherovp-op-orw.yaml
  - name: op-orw-ovp-svcs01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-ovp-svcs01
    helm:
      valuesFiles:
        - op-orw-ovp-svcs01.yaml
  - name: op-orw-ovp-wargame01
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-ovp-wargame01
    helm:
      valuesFiles:
        - op-orw-ovp-wargame01.yaml
  - name: op-orw-ovp-wargame03
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-ovp-wargame03
    helm:
      valuesFiles:
        - op-orw-ovp-wargame03.yaml
  - name: op-orw-ovp-wargame05
    clusterSelector:
      matchLabels:
        management.cattle.io/cluster-display-name: op-orw-ovp-wargame05
    helm:
      valuesFiles:
        - op-orw-ovp-wargame05.yaml
